version: '2'
services:
  verify-proxy:
    image: ${registry_url}/verify-proxy-cid:${vp_image_version}
    stdin_open: true
    tty: true
    ports:
    - 8082:9000/tcp
    labels:
      io.rancher.container.pull_image: always
  verify-service-provider:
    image: ${registry_url}/verify-service-provider-cid:${vsp_image_version}
    environment:
      hubMetadataURL: "https://compliance-tool-reference.ida.digital.cabinet-office.gov.uk/SAML2/metadata/federation"
      hubSSOLocation: "https://compliance-tool-reference.ida.digital.cabinet-office.gov.uk/SAML2/SSO"
      logLevel: "INFO"
      msaEntityId: "http://www.nhs-cid.gov.uk/SAML2/MD"
      msaMetadataURL: "https://msa.${env_shortcode}.${domain}/matching-service/SAML2/metadata"
      port: "50400"
      samlPrimaryEncryptionKey: "MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCsHApy5uXdqw0U4jQRE8r/WWYJ+lgWKHqr5ciFKOlZO+tu83s9z6MRbc10PYPKN6MTpww7/eNdeOrNX/t7xrZaUsJ83H3KMiUuoqxeTSBOFaVHRz/3sCv3mdmsYwPu2F1hEu7WSeQAuWvOXp4UI6VxzI3KAxnOCPePv/8//qNuyRbI1vC/OdFiQ4U4xDbm9EBib3IO3UxOr6HY0EXH9GQY0TkDCPzXd9xiD8HCSsjiopvSTt0y99iILTlyedplGJLF5ltPGbXUUPEJn9TWa1PhLawrUPZ7/tR0p8XgBBMeRCaW+AdjlTNh0BmCnMEvNOYLpjh6ZexqfYvQ5aQeSIL/AgMBAAECggEASYTU5c5CJNV7ig8yhJT64ubyUpLQ6+4wsJtAc7lNLKQO5t81Jus6UiigWeYpFMl9bNivvjSu2e/cBQzaJT52CNFPaPza8vNGtMwia0nw4coXRwJljc2Aioz60cueE3nzMZNf2MPJlJGgPpBmYF31v03Mx51ZeYyVC5/NTi3c7GZfyjAobIQyExzpFjwk9YImtyFuZcf5wWx905GkrkCZVSc40uYkdj9pRTJYllNMG37BBmN72Ag39A6MIHwYFreLudxefA0Lk+2pKuhM6EPPTsNy7jinjunudO6yWjlvg7bPqrUi0x019Ng3giBXfE15ktPB890O76dy+c7+4tJhwQKBgQDkvOIHxN1FuxnXZErokKYHeNKAn9MwvHU3Q/dydBfT6pcxg451ZkAopBDfkYOk0S/cTh/WO8O3JV3K6DIvfYGWMKQchGH0PYbPr/6hkntLRMl5dxDJxVY/X3Sclzaax+l4nggb2eqSK1g/fNsQKHpNCVtpxZ7bbkbpXkv4rGm5YQKBgQDAn1kZxE2BrsMTdePpI2NVu8CJq1W39OUdPvUnIO7wMzI6sA3xsELHzwti1D7wW6OFIvkeSdwwH9cxnDEmC8vRyHnnlg8ZP5OOGa/oApyqz4U9alI/BlR6Ip9f4wkYMy54vNK3gzEgUheTQmB2MaKc4ioi3cpg5HPXjna7PS+4XwKBgGaZInmBoA6rAchPQBpY51/qneD7z2rI3XrQjalU0WtIilC3Rar7FkQkcz0UtAu1mNYkZLtfS0ZXCF7/D6Olk/6eCr6P0rAO+O0nb/thDNSSIhzNf0ZBsZHzawbh/Kgoi1yC5fg4IrM1pfu0MT5qKZFsZQhoj/y01jHPDhyYmUOBAoGAemUGbcwBX9TXWcdAMYTt+q0Zk6DOD9zJtMKrbdiMWw587TOvOJLCbEoQNxUchQgFqHRnjSprghzJVVmlFULLmRpk85WzNFzkepex4Z+/Qv4n8LVdW3S/OvhDAt+1iK4E6m05C6iOD7Z6CnVT6+ZwKHXBRnRdwyGGxkJdCW7AossCgYAEG5O34GYMoajFd/0f1LOiYjQsGJTvogbh3h9rIN+fdxqPMJKU2f3GN3XXHAvhQAkGSxPadXWmgbmpsoQaL/2TxHhhVAMuOVAy47votNcXRJRl/O7KK5JY+w2VX3rBbxtQrpShQeHUj8V0G/RreSsN+T1ZOS6TOE+1n6Pqo0n6bg=="
      samlSecondaryEncryptionKey: ""
      samlSigningKey: "MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCzarCKWQm/lXLQNM1a7BUqsv6kH/aOXPUWt8kQB0qRNaKbixJqYtJzxkTgGeuGdXDvrsZ8/WtPTaM2BLNZC2PqXf6X+d0YszZ+GlaNO4dJFcLjEvdSUgx7L9YdZuGeNn9QdLpVBNdvwYsbhjhnRFVrCo1POrgL7mxcuj+JhDi7yh2zO+3ln/03dIpwx4f004shwB2Ps3YVAU0aq7dlqe6uxG8/GoIcTxdttrWOe6ro6Qtd8dRRCAb/mUXK+Oxi8ZlAl6UgRLxqjsnan/yG1OSoo6nBQzJ40UPGQ3EPWKIHGhi4/2oq16kMDto62RrOiof07M019s5puWOUNi2SbMxHAgMBAAECggEABSFd3vbg0nuhhtabsKfjiw8HPQY09Kkv0PB8bVroBPL1rWDyq9wbjHf07DuRgozFJ/Vlc5mDggcETb0gq8EpoEAD0bCxY81sF3sFUpCLM8nNgtS+Abqa5MLfaoPQm8ePKGvOEDRNPMLaCXVzE3DeyGrK06MoNB8jNhuVSYdgX+5BT6j3LHUS6nXxvaQ9FdYTPDhtaf2J0yAFkDeQK4mH+8OhrXF1jtQHSxZrXZ8Tc0O8rdpk19FyDx2ILuEGiNvk5Odo7W1JK+DOpej+6u6Wy5Dbm7jnCDTq1wPDtMFHQnYMje2IUv/aOHwkP7IbW2lAiVOcXGKffZFngb6lii+KUQKBgQDrYWY1VFeWpXG9W20e9Q8cNiOIm2rUkTDTSfuawkbMuz9T5UQS5mVRNAGQynJvgFl0aShG6vxBJgIrjxYAJSvj2ofvvxqUk5a0fP5M/bJW+0gKZec6nNIAyPO/qgdq9/o+OyoWHZiX2qp1kXwnhPCbtvKYDCd88IF+vQuF+8PsGwKBgQDDIkISiIGWcjNnxzec5jM2DUNKlVlSd0R/Py9gPpzYjaoRGGJ0orVNCjU34pNUxUp5gVhY6bHnGvGhsO3ucVnSy+2UetFHpYVDKtzcFER4En5u60W8JcV4jGRbzzBtdsQwSIuGy+yp32EDsYLIdYFXQyX23xakxvYtFbYXN/sLRQKBgQCbSPKJFE+EjzluVzaySbHiRsVChmYAPpkbi592Bd13i8DHtGUoot8Mp2axAx5j+SUK66UqxDQPNugPnKJDDkLaW3166XS7uHKgOCX83RIe2EA6u+fEf1j8M5a7R40FQPvSum2VkYjuBdCXJ5fk6oth71w0ezBB+Nk1p7pGdkZXKQKBgFjdgyWZkRqIy6xZZ5RGqc/V3m1a8qDBvCoPBm5YVWmxql+6sSvY5aQ+H9phjyMt7irDow5q7yAGf0BZqSHL8VI0mO/jtudgE/5wyMBZYo0kLvwonUuAEBxEI3hENRPE4Lf0ccZjnFYIatAZySuth8fLxsBU/KTyDy6dEp4kWmnZAoGAGM2baANAKSQbeF+qvasAw581Xeu2tBr52Ez0+/V+T8Cmzi+rZNxUGeV5wgMlBydFArQPRmafxz5tMOak2TUkPrZjwhbvmIcYoSfZYsx4hw6/uppZ9hGOK+lNYpngNmTrbzRLjyqEXEE5NazXXRM5tTfIAiXaBJMuRnrtRKeFNiw="
      serviceEntityId: "http://verify-service-provider"
    stdin_open: true
    tty: true
    ports:
    - 50400:50400/tcp
    labels:
      io.rancher.container.pull_image: always
