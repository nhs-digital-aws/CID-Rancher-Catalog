version: '2'
services:
  verify-proxy:
    image: ${registry_url}/verify-proxy-cid:${vp_image_version}
    stdin_open: true
    tty: true
    ports:
    - 8082:9000/tcp
    labels:
      io.rancher.container.pull_image: always
  verify-service-provider:
    image: ${registry_url}/verify-service-provider-cid:${vsp_image_version}
    environment:
      hubMetadataURL: "https://compliance-tool-reference.ida.digital.cabinet-office.gov.uk/SAML2/metadata/federation"
      hubSSOLocation: "https://compliance-tool-reference.ida.digital.cabinet-office.gov.uk/SAML2/SSO"
      logLevel: "INFO"
      msaEntityId: "http://www.nhs-cid.gov.uk/SAML2/MD"
      msaMetadataURL: "https://msa.${env_shortcode}.${domain}/matching-service/SAML2/metadata"
      port: "50400"
      samlPrimaryEncryptionKey: "MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDazQ2ytttx/1KLfvuJa6wOmPGnlLHuKQSRBd88HbRI8mb1o2AcqGMj1Fci4IleJzqanF3aVL2Tvq8QZNjnrkVAel2udAPgJaJyUifEzlowj0W3QG6deLddzdG7PB7gSpDOjR6QGCZxD+pbfT+vROZhZuy4ADOoLZ89ZdlBWsWasFdirhpqVywmCpR7u6shD75cnLwyjWgPLc5CZSjBwNGThYlfIl7ieRRKWuF68wlJ2ZR+ohJatDK2YKMItwMU9EqY6pJl0qwEQDYjtUocS6+CDJJabkR3Sc4L2Bb9jDQaWRBtVcP9MpQ5xSjPTsavWbCirbi8CWS/kCOUCOsuo6bdAgMBAAECggEBALD8NRxetVudABQ+fxFFu0ODi9XWfab8HumAKnbiQDbRfV8s7E3CF4+f72wS3IsAiHMQEQrOiRq9n7ZPHPUrDnF9idHXnlrtll2K/wg/Ms0c13PH9rICN7D1D7W4h/E936x0kkhUgKPsD9I5mg4YWZJoQwsDfsWHQcvUWsx2tGjOxKJQZ1pnCfS+0AFjsWv230fO3Ic7yAOTrw9c+2ncaCg8HEHrix/IzI43j9jSe287Ht5pCEA60Enym8RjJd33bnHkUUBUIeXKhxexgwEYBLBlRPloPwPRT+Dx+bBTNLelem6XkVDd9agwKT2e5wn5oeqmGu9RboI0ly+XfRxakoECgYEA8mGNvcl+kOAsgTTkSNeZJbMiwvmqe2mI3hI83F+mtkzxefnEeCElgYCHHw75uCNIpbZCtTK557Frczfg6LCiWLcB5p675QW2PZRvfedTCod/7secEbA6oj67MEqwoFOYMGk7qyswMOU75/NvwMO6p3cfXKsY7m5Ffr7j9YNsH+kCgYEA5xhSBCVOalh3J2w4UbwG/Wwxzk93PTzzclPB3pgwT4X+JLEvP04CDn7IUG8Xhs2j9/NaGNP5rCNxv/Wetk7uO1EjeWW/PnnkLJZW6xTLflMbA22D6DJcNM+iZzzyOvcXesw/pgBuGnBrk5UTcdFFPAdgXBQf7tqADAUTIJI+CtUCgYEAvOUgNO+KjtfWd1/EJay4svPXvIIcxg9qVj96ZPi6kUqHytrHriOO+k0zgRYHseT1ogfYFyUQUywnJGVBB7dY3rDJb3T31DXOYFGFTmbwhb0yC+JOlE52c6lV8v3ShzB+5AOvN+fxp7mPJWbICj/AAPFKZMsHJBKWYH/eYqFoq7kCgYEArsOrssrrxGzmn3+uD9Hcj2Z1PArIqB0iFoHVCZuaXWl9yw3cJ0m9MG0c3AdHiYCW0frNVh1ooY+khIEh58lFTMKNy07xFDRmJHoFfX6abgw3T55QtRbwuFeV//ENVx5qOUmhkM6edYwzLsb8j4StkToa20e05pODZpOn5WfzV4kCgYB28cvbCWe1IC7S4dIinV7RAtm1eYilHU7z0i8oV1xeBq1AHF0XWQmKydUy9JiE/dZEjQj7Syu9cwXgFZjUFJMonYpbO/lLwg6aR/Cb1XdbxZOFpBSfJyl1KDFttk4NzmMQXHRVO03PFuXvNwC2SnRjThbJYOSwd/3FqXUlqjBJeg=="
      samlSecondaryEncryptionKey: ""
      samlSigningKey: "MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCo2tzvxZ0BKhZBWRMYBwr7jtQL4dF8qrdgrrHXje5pdHtMdT1bABl4LUmARR9SBL5+rXNzFmIEjRqExo9LW+/x0levW3g6Gzvz3MmPIDYsjsC6vlI33RkRruBJZgONUlWrcylpSpW9Y9ob2je0Qa36TRlm2grjyOA05e0iSFRQhbgOjuDHiD2uGuKtE+5GT7+lkURc7wvYI1tnuJ3iuGaKAg4azbqFwoCT3s00eHVTZg/IHKeNJfLV4ip2vdh1YXLwGxmBReGImbXCb//r52lK6uL+1UGVjBQP7TK7o1JheGKHlLHwG2Ttvi2utGuxvNup4tYofYFLE16hqw6psOx/AgMBAAECggEAFG0lfPvy2kk1GAKmhKmVcoj8rdNLfEFKna+EZAcPaEJnCADGw1NnwVn5IkM6XrmkMb7Z0HpMsTBAnP9IJl2g0SgY42W1TZIt1npHB8FlzE4Ykn6jg46DkdgN2dM1assjAfKUd+BF7Ps/T08+nde0LCtXf1GxL40FUmDeJt+JE5RnOUaXNt15OjiWk4/joY4Cz4xgJHb1b2/KvlBI1KBz5t56OwGMkvwfMQIPty7k45M1+fBW+lqGn5SugcahySeUX8HwB9S+GPxVIwABx+KAdr49rfKBMyJn5pU1OMwaxYTCyFdc+0vxA4o/9WAfhsBtaa9uEIpMnS2iYLo3qYJZwQKBgQDSVMZzj9fiUYfqWVErn7YJh/hpHArr+NfKUmNSAxeOgHZJef8DNs5xWQMbbd+2Kdgr6lHTsX9yqfhlGctX1GliXLbtBOH0EjBv/aOCOwFj2NwpjYx86J20L/Alun1+oSyEMd9gyTNnv6QJlhppT7vB1A3FtZ12st56+gxheL75MwKBgQDNhKN4aFxl9nolJEdOncOtaVAE0RDA3Ejpv/z6FZOm+jpcN4wU7xejV8AHwf3g7FP5qF+X1vO1UYWaRcpY2ogIEoqryHErRorqV+C+iLhJWERQK0WyJwCeGW4TAqemO8pwH6YpitkgEhj+pq171PXbxOKBVnKaf5fXkP9HCFK3hQKBgCU+l8mc3hiYYV3xJPt5k42Kg0VxjsmMTgHopue93m0AeHG4ZZzXFqVhorg3s5aZQEs+efDnjG7shCy67ZQG7AZb7pR3+d7zXZpnKo4EDtH0c7/z7b2sn0hp+Ldll5VVywE5p5mG51Bm0hBUgSbG1LOU7j9lUpXTRKw4HPshm4ebAoGACvXC3f36x3lAhFCN+PRS5iGSod8gXJiizsxtSkzyRdpcWGSh9M/XW9+nHwLKbj9MLyk6h9dvwcCqNlL4eoqU7JFIkearmlo1uE+dbavO4CJz6i6Ule6citHiW+MtW6Eep6IYc2izMZGlgZcT82GlBuZWCf25OOILD/TsmDYqax0CgYAF+vHJPvx9pHOE87qaa3MtI/tpK4aDIjtMjRm+A1SL6IX/XbtjR5NZQOzWzpF3+meaDuWcYMu5CtMu9j6l1tHeIG9C66SPm8dP9hjV+juvP1aJ1GBtSYAOH73KM4UK2G4EHLS7ychzDKg0EfMVWPDxzzyYRyHanvmZn9CtAMzB+Q=="
      serviceEntityId: "http://verify-service-provider"
    stdin_open: true
    tty: true
    ports:
    - 50400:50400/tcp
    labels:
      io.rancher.container.pull_image: always
